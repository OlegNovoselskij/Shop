(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{3266:(e,t,s)=>{Promise.resolve().then(s.bind(s,1374))},1374:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(5155),i=s(9606),r=s(1860),l=s(9938),n=s(2115),c=s(6046),d=s(6039),m=s(1531);let o=l.Ik().shape({name:l.Yj().required("Name is required"),rating:l.ai().min(1,"Rating is required").max(5),text:l.Yj().required("Review text is required")});function x(){var e,t,s;let l=(0,c.useRouter)(),[x,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(""),{register:f,handleSubmit:v,control:b,formState:{errors:j},reset:N}=(0,i.mN)({resolver:(0,r.t)(o),defaultValues:{rating:0}}),g=async e=>{u(!0),p("");try{if(!(await fetch("/api/review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to submit review");N(),l.refresh()}catch(e){p(e.message)}finally{u(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-zinc-900 text-white px-4",children:[(0,a.jsx)("h1",{className:"text-6xl font-extrabold text-zinc-500 mb-10",children:"Leave a Review"}),(0,a.jsxs)("form",{onSubmit:v(g),className:"w-full max-w-lg bg-zinc-900 p-5 rounded-lg shadow-2xl",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{...f("name"),type:"text",placeholder:"Your Name",className:"w-full p-3 bg-black outline-none rounded opacity-75"}),(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:null===(e=j.name)||void 0===e?void 0:e.message})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("textarea",{...f("text"),placeholder:"Your Review",className:"w-full p-3 bg-black outline-none rounded h-24"}),(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:null===(t=j.text)||void 0===t?void 0:t.message})]}),(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-center",children:[(0,a.jsx)(i.xI,{name:"rating",control:b,render:e=>{let{field:t}=e;return(0,a.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)(d.A,{size:24,className:"cursor-pointer ".concat(e<=t.value?"fill-yellow-400 stroke-yellow-400":"stroke-gray-600"),onClick:()=>t.onChange(e)},e))})}}),(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:null===(s=j.rating)||void 0===s?void 0:s.message})]}),h&&(0,a.jsx)("p",{className:"text-red-500 text-sm mb-4",children:h}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(m.A,{type:"submit",className:"bg-[#484444] text-white font-semibold text-sm uppercase px-8 py-4 tracking-wide transition hover:bg-[#5a5a5a]",disabled:x,children:x?"Submitting...":"Submit Review"})})]})]})}},1531:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155);function i(e){let{children:t,style:s,...i}=e;return(0,a.jsx)("button",{className:s,...i,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[250,441,517,358],()=>t(3266)),_N_E=e.O()}]);