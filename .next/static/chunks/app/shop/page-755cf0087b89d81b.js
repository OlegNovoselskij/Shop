(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{6877:(e,t,r)=>{Promise.resolve().then(r.bind(r,8059))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},8059:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(5155),o=r(4049);let s=(0,r(4057).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var i=r(2115);let c="font-bold text-gray-400 cursor-pointer font-family-aktiv-grotesk hover:brightness-125";function n(e){let{onSortChange:t,selectedSort:r}=e,[n,l]=(0,i.useState)(!1),d=e=>{t(e),l(!1)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex text-gray-400 cursor-pointer font-family-aktiv-grotesk relative items-center",onClick:()=>l(!n),children:[r,(0,a.jsx)(o.P.div,{animate:{rotate:n?180:0},transition:{duration:.3},children:(0,a.jsx)(s,{})})]}),n&&(0,a.jsx)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"absolute right-0 mt-2 bg-[#161616] text-white p-6 shadow-lg z-50 w-64",children:(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{onClick:()=>d("Name (A-Z)"),className:c,children:"Name (A-Z)"}),(0,a.jsx)("li",{onClick:()=>d("Name (Z-A)"),className:c,children:"Name (Z-A)"}),(0,a.jsx)("li",{onClick:()=>d("Price (low to high)"),className:c,children:"Price (low to high)"}),(0,a.jsx)("li",{onClick:()=>d("Price (high to low)"),className:c,children:"Price (high to low)"})]})})]})}let l=function(e){let{handleClickOnProduct:t,id:r,image:o,title:s,price:i}=e;return(0,a.jsxs)("div",{onClick:()=>t(r),className:"p-4 text-white text-left cursor-pointer shadow-lg hover:shadow-2xl transition-shadow duration-300",children:[(0,a.jsx)("div",{className:"relative h-[14rem] sm:h-[16rem] md:h-[18rem] lg:h-[16rem] w-full max-w-full overflow-hidden group",children:(0,a.jsx)("img",{src:o,alt:s,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"})}),(0,a.jsx)("h3",{className:"text-lg sm:text-base md:text-lg lg:text-xl font-semibold mt-2 truncate",children:s}),(0,a.jsxs)("p",{className:"text-sm sm:text-xs md:text-sm lg:text-base",children:[i,"$"]})]})};var d=r(5040),u=r(6670),h=r(6046);function m(e){let{selectedCategory:t,selectedSort:r}=e,[o,s]=(0,i.useState)([]),[c,n]=(0,i.useState)(!0),m=(0,h.useRouter)(),f=(0,h.useSearchParams)().get("category");if((0,i.useEffect)(()=>{(async function(){try{let e=await (0,d.AS)();s(e)}catch(e){console.error("Error fetching products:",e)}finally{n(!1)}})()},[]),c)return(0,a.jsx)("div",{className:"min-h-screen",children:(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 flex justify-center items-center w-full h-full",children:(0,a.jsx)(u.A,{})})});let p=o,x=t||("woman"===f?2:"men"===f?1:null);return x&&(p=o.filter(e=>e.categoryId===x)),r&&(p=[...p].sort((e,t)=>{switch(r){case"Name (A-Z)":return e.name.localeCompare(t.name);case"Name (Z-A)":return t.name.localeCompare(e.name);case"Price (low to high)":return e.price-t.price;case"Price (high to low)":return t.price-e.price;default:return 0}})),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4",children:p.map(e=>(0,a.jsx)(l,{handleClickOnProduct:()=>m.push("/shop/".concat(e.id)),id:e.id,image:e.imageUrl,title:e.name,price:e.price},e.id))})}function f(e){return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(u.A,{}),children:(0,a.jsx)(m,{...e})})}function p(){let[e,t]=(0,i.useState)(null),[r,o]=(0,i.useState)("Price (high to low)"),s=(0,h.useRouter)(),c=e=>{t(e),s.push("/shop")};return(0,a.jsxs)("div",{className:"bg-black text-white mt-[12rem] flex justify-center",children:[(0,a.jsxs)("aside",{className:"w-2/12 p-9",children:[(0,a.jsx)("h3",{onClick:()=>t(null),className:"font-family-aktiv-grotesk relative font-medium tracking-tight font-bold text-lg mb-4 cursor-pointer",children:"All Products"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{onClick:()=>c(1),className:"cursor-pointer hover:opacity-75 ".concat(1===e?"opacity-75":""),children:"Mens"}),(0,a.jsx)("li",{onClick:()=>c(2),className:"cursor-pointer hover:opacity-75 ".concat(2===e?"opacity-75":""),children:"Womens"})]})]}),(0,a.jsxs)("main",{className:"w-1/2 p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 relative",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-family-aktiv-grotesk",children:"All Products"}),(0,a.jsx)(n,{onSortChange:e=>{o(e)},selectedSort:r})]}),(0,a.jsx)(f,{selectedCategory:e,selectedSort:r})]})]})}},6670:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155);r(2115);let o=()=>(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center min-h-screen",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-t-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"Loading..."})]})},5040:(e,t,r)=>{"use strict";r.d(t,{AS:()=>a,Jb:()=>n,Xl:()=>i,bE:()=>s,dt:()=>c,oo:()=>o});let a=async()=>{try{let e=await fetch("/api/products");if(!e.ok)throw Error("Failed to fetch products");return await e.json()}catch(e){throw console.error("Error fetching all products:",e),e}},o=async e=>{try{let t=await fetch("/api/products/".concat(e));if(!t.ok)throw Error("Error fetching product with id ".concat(e,": ").concat(t.status));return await t.json()}catch(e){throw console.error("Error fetching product:",e),e}},s=async e=>{try{let t=await fetch("/api/addcart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(!t.ok)throw Error("Failed to add product to cart");return await t.json()}catch(e){throw console.error("Error adding product to cart:",e),e}},i=async()=>{try{let e=await fetch("/api/addcart");if(!e.ok)throw Error("Failed to fetch cart");return await e.json()}catch(e){throw console.error("Error fetching cart:",e),e}},c=async e=>{try{let t=await fetch("/api/addcart",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(!t.ok){let e=await t.json();throw console.error("Error message:",e.error),Error(e.error||"Failed to remove product from cart")}return await t.json()}catch(e){throw console.error("Error removing product from cart:",e),e}},n=async(e,t)=>{try{let r=await fetch("/api/addcart",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,action:t})});if(!r.ok)throw Error("Failed to update product quantity in cart");return await r.json()}catch(e){throw console.error("Error updating product quantity:",e),e}}},4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(2115);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:l="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:o,height:o,stroke:r,strokeWidth:n?24*Number(c)/Number(o):c,className:s("lucide",l),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:n,...l}=r;return(0,a.createElement)(c,{ref:i,iconNode:t,className:s("lucide-".concat(o(e)),n),...l})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[49,441,517,358],()=>t(6877)),_N_E=e.O()}]);