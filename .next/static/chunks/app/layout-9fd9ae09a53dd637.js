(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2360:(e,t,r)=>{Promise.resolve().then(r.bind(r,7407))},7407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G});var a=r(5155),s=r(4917),i=r.n(s),l=r(5455),n=r.n(l);r(347);var c=r(8173),o=r.n(c),d=r(4057);let h=(0,d.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function u(e){let{handleClickSearch:t}=e;return(0,a.jsx)(h,{onClick:t,className:"hover:opacity-75 cursor-pointer w-6 h-6 text-white"})}var m=r(2115),f=r(4049),x=r(6046),p=r(3100);function y(e){let{onClose:t}=e,[r,s]=(0,m.useState)(""),[i,l]=(0,m.useState)([]),[n,c]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=setTimeout(()=>{r.trim()?d():(l([]),c(!1))},300);return()=>clearTimeout(e)},[r]);let d=async()=>{try{let e=await fetch("/api/products?search=".concat(r));if(!e.ok)throw Error("Failed to fetch search results");let t=await e.json();l(t),c(!0)}catch(e){console.error("Error searching products:",e)}},u=()=>{c(!1),s("")};return(0,a.jsxs)("div",{className:"bg-[#1a1a1a] h-10 flex items-center w-full max-w-3xl mx-auto rounded relative",children:[(0,a.jsx)(h,{className:"ml-2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search Products",value:r,onChange:e=>s(e.target.value),className:"bg-transparent tracking-tight opacity-75 w-full px-2 text-sm outline-none border-none placeholder-gray-400"}),(0,a.jsx)("button",{onClick:t,className:"hover:text-gray-400 text-gray-100 text-lg px-3",children:"âœ–"}),n&&i.length>0&&(0,a.jsx)("div",{className:"absolute top-full left-0 w-full bg-black text-white mt-1 p-2 rounded shadow-lg max-h-60 overflow-auto",children:i.map(e=>(0,a.jsx)(o(),{href:"/shop/".concat(e.id),className:"block px-2 py-1 hover:bg-gray-800",onClick:u,children:e.name},e.id))})]})}var w=r(3391),g=r(5279);function j(){let[e,t]=(0,m.useState)(!1),r=(0,x.usePathname)(),s=(0,w.wA)();function i(){t(e=>!e)}return(0,a.jsx)("header",{className:"bg-black text-white py-4 px-4 md:px-8 flex items-center justify-center fixed top-0 w-full z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full max-w-5xl",children:[(0,a.jsx)(o(),{href:"/",children:(0,a.jsx)("h1",{className:"text-lg font-bold",children:"FACTORY"})}),e?(0,a.jsx)(y,{onClose:i}):(0,a.jsx)("nav",{className:"md:flex relative space-x-6",children:[{href:"/",label:"HOME"},{href:"/shop",label:"SHOP"},{href:"/aboutus",label:"ABOUT US"},{href:"/contactus",label:"CONTACT US"}].map(e=>{let{href:t,label:s}=e;return(0,a.jsxs)(o(),{href:t,className:"relative font-medium tracking-tight hover:opacity-75",children:[s,r===t&&(0,a.jsx)(f.P.div,{layoutId:"underline",className:"absolute bottom-[-2px] left-0 right-0 h-0.5 bg-white",transition:{type:"spring",stiffness:300,damping:30}})]},t)})}),(0,a.jsxs)("div",{className:"flex text-xl space-x-3",children:[(0,a.jsx)(u,{handleClickSearch:i}),(0,a.jsx)(p.A,{className:"cursor-pointer hover:opacity-75",onClick:function(){s((0,g.SW)())}})]})]})})}let b=(0,d.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),v=(0,d.A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),N=(0,d.A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);function k(){return(0,a.jsxs)("footer",{className:"grid grid-cols-1 md:grid-cols-3 items-center px-4 md:px-8 py-6 text-gray-400 text-center md:text-left",children:[(0,a.jsx)("p",{className:"text-sm order-2 md:order-1",children:"\xa9 2020 Factory - All Rights Reserved."}),(0,a.jsxs)("div",{className:"flex justify-center md:justify-center gap-4 order-1 md:order-2 my-4 md:my-0",children:[(0,a.jsx)("a",{href:"https://facebook.com",target:"_blank",className:"bg-white p-3 md:p-2 rounded-full shadow-md",children:(0,a.jsx)(b,{className:"w-6 h-6 md:w-5 md:h-5 text-black"})}),(0,a.jsx)("a",{href:"https://twitter.com",target:"_blank",className:"bg-white p-3 md:p-2 rounded-full shadow-md",children:(0,a.jsx)(v,{className:"w-6 h-6 md:w-5 md:h-5 text-black"})}),(0,a.jsx)("a",{href:"https://instagram.com",target:"_blank",className:"bg-white p-3 md:p-2 rounded-full shadow-md",children:(0,a.jsx)(N,{className:"w-6 h-6 md:w-5 md:h-5 text-black"})})]}),(0,a.jsxs)("p",{className:"text-sm text-center md:text-right order-3",children:["Powered by ",(0,a.jsx)("span",{className:"font-semibold",children:"GoDaddy"})]})]})}let C=(0,d.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var E=r(4710),S=r(9234),_=r(9656),z=r(7249);class F extends m.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=e instanceof HTMLElement&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q(e){let{children:t,isPresent:r,anchorX:s}=e,i=(0,m.useId)(),l=(0,m.useRef)(null),n=(0,m.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,m.useContext)(z.Q);return(0,m.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:o,right:d}=n.current;if(r||!l.current||!e||!t)return;l.current.dataset.motionPopId=i;let h=document.createElement("style");return c&&(h.nonce=c),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(o):"right: ".concat(d),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(h)}},[r]),(0,a.jsx)(F,{isPresent:r,childRef:l,sizeRef:n,children:m.cloneElement(t,{ref:l})})}let A=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:n,mode:c,anchorX:o}=e,d=(0,S.M)(L),h=(0,m.useId)(),u=(0,m.useCallback)(e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;i&&i()},[d,i]),f=(0,m.useMemo)(()=>({id:h,initial:r,isPresent:s,custom:l,onExitComplete:u,register:e=>(d.set(e,!1),()=>d.delete(e))}),n?[Math.random(),u]:[s,u]);return(0,m.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[s]),m.useEffect(()=>{s||d.size||!i||i()},[s]),"popLayout"===c&&(t=(0,a.jsx)(q,{isPresent:s,anchorX:o,children:t})),(0,a.jsx)(_.t.Provider,{value:f,children:t})};function L(){return new Map}var M=r(5087);let P=e=>e.key||"";function T(e){let t=[];return m.Children.forEach(e,e=>{(0,m.isValidElement)(e)&&t.push(e)}),t}var I=r(5403);let R=e=>{let{children:t,custom:r,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:n="sync",propagate:c=!1,anchorX:o="left"}=e,[d,h]=(0,M.xQ)(c),u=(0,m.useMemo)(()=>T(t),[t]),f=c&&!d?[]:u.map(P),x=(0,m.useRef)(!0),p=(0,m.useRef)(u),y=(0,S.M)(()=>new Map),[w,g]=(0,m.useState)(u),[j,b]=(0,m.useState)(u);(0,I.E)(()=>{x.current=!1,p.current=u;for(let e=0;e<j.length;e++){let t=P(j[e]);f.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[j,f.length,f.join("-")]);let v=[];if(u!==w){let e=[...u];for(let t=0;t<j.length;t++){let r=j[t],a=P(r);f.includes(a)||(e.splice(t,0,r),v.push(r))}return"wait"===n&&v.length&&(e=v),b(T(e)),g(u),null}let{forceRender:N}=(0,m.useContext)(E.L);return(0,a.jsx)(a.Fragment,{children:j.map(e=>{let t=P(e),m=(!c||!!d)&&(u===j||f.includes(t));return(0,a.jsx)(A,{isPresent:m,initial:(!x.current||!!s)&&void 0,custom:r,presenceAffectsLayout:l,mode:n,onExitComplete:m?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==N||N(),b(p.current),c&&(null==h||h()),i&&i())},anchorX:o,children:e},t)})})};function Q(e){let{itemList:t}=e;return(0,a.jsx)("div",{className:"border-t  border-gray-700 pt-4",children:(0,a.jsxs)("div",{className:"flex justify-between text-white text-lg",children:[(0,a.jsx)("span",{children:"Total:"}),(0,a.jsxs)("span",{children:["$",t.reduce((e,t)=>e+(t.price||0)*t.quantity,0).toFixed(2)]})]})})}let O=()=>{let e=(0,w.wA)(),{showCart:t,itemList:r,totalQuantity:s}=(0,w.d4)(e=>e.cart);(0,m.useEffect)(()=>{t&&e((0,g.Fy)())},[e,t]);let i=t=>{e((0,g.I1)(t))},l=t=>{e((0,g.ro)(t))},n=(t,r)=>{r>=1?e((0,g.zG)(t)):e((0,g.I1)(t))};return(0,a.jsx)(R,{children:t&&(0,a.jsxs)(f.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed right-0 top-0 w-96 h-full bg-black text-white p-6 shadow-lg flex flex-col z-[9999] border-l-4 border-white",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"My Cart"}),(0,a.jsx)("button",{onClick:()=>{e((0,g.SW)())},className:"p-2 text-white border-2 rounded-lg border-white hover:text-gray-400",children:(0,a.jsx)(C,{size:24})})]}),(0,a.jsx)("div",{className:"flex-grow flex flex-col items-center",children:0===r.length?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.A,{size:80,className:"mb-4 ml-5"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Your cart is empty."})]}):(0,a.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,a.jsx)("ul",{className:"divide-y divide-gray-700",children:r.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[e.imageUrl&&(0,a.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-16 h-20 object-cover rounded-md"}),(0,a.jsx)("span",{className:"text-white font-medium ml-4",children:e.name})]}),(0,a.jsx)("div",{className:"flex items-center ml-6",children:(0,a.jsxs)("div",{className:"flex items-center bg-[#181818] border border-gray-700 rounded-full px-1 py-1 space-x-2",children:[(0,a.jsx)("button",{className:"text-white text-lg px-1 hover:text-gray-400",onClick:()=>n(e.id,e.quantity-1),children:"-"}),(0,a.jsx)("span",{className:"text-white px-0",children:e.quantity}),(0,a.jsx)("button",{className:"text-white text-lg px-1 hover:text-gray-400",onClick:()=>l(e.id),children:"+"})]})}),(0,a.jsx)("span",{className:"ml-6 text-white",children:e.price?"".concat((e.price*e.quantity).toFixed(0),"$"):"N/A"}),(0,a.jsx)("button",{onClick:()=>i(e.id),className:"text-white p-2 hover:scale-110 hover:text-gray-400",children:(0,a.jsx)(C,{size:20})})]},e.id))}),(0,a.jsx)(Q,{itemList:r})]})})]})})},D=(0,r(8943).U1)({reducer:{cart:g.Ay}});function U(e){let{children:t}=e;return(0,a.jsx)(w.Kq,{store:D,children:t})}function G(e){let{children:t}=e;return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"".concat(i().variable," ").concat(n().variable),children:(0,a.jsxs)(U,{children:[" ",(0,a.jsx)(J,{children:t})]})})})}function J(e){let{children:t}=e,r=(0,w.d4)(e=>e.cart.showCart);return(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(O,{}),(0,a.jsx)(j,{}),t,(0,a.jsx)(k,{})]})}},5040:(e,t,r)=>{"use strict";r.d(t,{AS:()=>a,Jb:()=>c,Xl:()=>l,bE:()=>i,dt:()=>n,oo:()=>s});let a=async()=>{try{let e=await fetch("/api/products");if(!e.ok)throw Error("Failed to fetch products");return await e.json()}catch(e){throw console.error("Error fetching all products:",e),e}},s=async e=>{try{let t=await fetch("/api/products/".concat(e));if(!t.ok)throw Error("Error fetching product with id ".concat(e,": ").concat(t.status));return await t.json()}catch(e){throw console.error("Error fetching product:",e),e}},i=async e=>{try{let t=await fetch("/api/addcart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(!t.ok)throw Error("Failed to add product to cart");return await t.json()}catch(e){throw console.error("Error adding product to cart:",e),e}},l=async()=>{try{let e=await fetch("/api/addcart");if(!e.ok)throw Error("Failed to fetch cart");return await e.json()}catch(e){throw console.error("Error fetching cart:",e),e}},n=async e=>{try{let t=await fetch("/api/addcart",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e})});if(!t.ok){let e=await t.json();throw console.error("Error message:",e.error),Error(e.error||"Failed to remove product from cart")}return await t.json()}catch(e){throw console.error("Error removing product from cart:",e),e}},c=async(e,t)=>{try{let r=await fetch("/api/addcart",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:e,action:t})});if(!r.ok)throw Error("Failed to update product quantity in cart");return await r.json()}catch(e){throw console.error("Error updating product quantity:",e),e}}},5279:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,Fy:()=>i,I1:()=>n,SW:()=>h,ro:()=>c,zG:()=>o});var a=r(8943),s=r(5040);let i=(0,a.zD)("cart/fetchCart",async()=>await (0,s.Xl)()),l=(0,a.zD)("cart/addItemToCart",async e=>(await (0,s.bE)(e),e)),n=(0,a.zD)("cart/removeItemFromCart",async e=>(await (0,s.dt)(e),e)),c=(0,a.zD)("cart/increaseItemQuantity",async e=>(await (0,s.Jb)(e,"increase"),e)),o=(0,a.zD)("cart/decreaseItemQuantity",async e=>(await (0,s.Jb)(e,"decrease"),e));(0,a.zD)("cart/updateItemQuantity",async e=>{let{id:t,quantity:r}=e;return await (0,s.Jb)(t,r),{id:t,quantity:r}});let d=(0,a.Z0)({name:"cart",initialState:{itemList:[],totalQuantity:0,showCart:!1,status:"idle",error:null},reducers:{setShowCart(e){e.showCart=!e.showCart}},extraReducers:e=>{e.addCase(i.pending,e=>{e.status="loading"}).addCase(i.fulfilled,(e,t)=>{e.status="succeeded",e.itemList=t.payload,e.totalQuantity=t.payload.reduce((e,t)=>e+t.quantity,0)}).addCase(i.rejected,(e,t)=>{e.status="failed",e.error=t.error.message}).addCase(l.fulfilled,(e,t)=>{let r=t.payload,a=e.itemList.find(e=>e.id===r.id);a?a.quantity+=r.quantity:e.itemList.push({...r,quantity:1}),e.totalQuantity+=r.quantity}).addCase(n.fulfilled,(e,t)=>{let r=t.payload;e.itemList=e.itemList.filter(e=>e.id!==r),e.totalQuantity=e.itemList.reduce((e,t)=>e+t.quantity,0)}).addCase(c.fulfilled,(e,t)=>{let r=t.payload,a=e.itemList.find(e=>e.id===r);a&&(a.quantity+=1,e.totalQuantity+=1)}).addCase(o.fulfilled,(e,t)=>{let r=t.payload,a=e.itemList.find(e=>e.id===r);a&&(a.quantity>1?(a.quantity-=1,e.totalQuantity-=1):(e.itemList=e.itemList.filter(e=>e.id!==r),e.totalQuantity=e.itemList.reduce((e,t)=>e+t.quantity,0)))})}}),{setShowCart:h}=d.actions,u=d.reducer},347:()=>{},4917:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},5455:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[854,49,501,173,441,517,358],()=>t(2360)),_N_E=e.O()}]);