(()=>{var e={};e.id=642,e.ids=[642],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9021:e=>{"use strict";e.exports=require("fs")},3873:e=>{"use strict";e.exports=require("path")},1571:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>x,serverHooks:()=>m,workAsyncStorage:()=>v,workUnitAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{GET:()=>g,POST:()=>w,getReviews:()=>d,saveReviews:()=>l});var n=r(2706),i=r(8203),a=r(5994),o=r(9021),u=r.n(o),p=r(3873);let c=r.n(p)().join(process.cwd(),"data","review.json"),d=()=>{if(!u().existsSync(c))return[];let e=u().readFileSync(c,"utf-8"),t=e?JSON.parse(e):[];return t.length>3?t.sort(()=>.5-Math.random()).slice(0,3):t},l=e=>{u().writeFileSync(c,JSON.stringify(e,null,2),"utf-8")};async function g(){return new Response(JSON.stringify(d()),{status:200})}async function w(e){try{let t=await e.json();if(!t.name||!t.text||!t.rating)return new Response(JSON.stringify({error:"Invalid input"}),{status:400});let r=d(),s={initial:t.name.charAt(0).toUpperCase(),name:t.name,date:new Date().toLocaleDateString(),rating:t.rating,text:t.text};return r.push(s),l(r),new Response(JSON.stringify(s),{status:201})}catch(e){return new Response(JSON.stringify({error:"Failed to process request"}),{status:500})}}let x=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/review/route",pathname:"/api/review",filename:"route",bundlePath:"app/api/review/route"},resolvedPagePath:"C:\\Users\\WellDone\\Desktop\\programing\\Shop\\src\\app\\api\\review\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:v,workUnitAsyncStorage:f,serverHooks:m}=x;function y(){return(0,a.patchFetch)({workAsyncStorage:v,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},2706:(e,t,r)=>{"use strict";e.exports=r(4870)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994],()=>r(1571));module.exports=s})();